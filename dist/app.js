!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);let i=0;class r{constructor(){this.subs=[],this.id=i++}addSub(t){!this.subs.length>0&&this.subs.push(t)}removeSub(t){let e=this.subs.indexOf(t);-1!==e&&this.subs.splice(e,1)}notify(){this.subs.forEach(t=>t.update())}depend(){r.target.addDep(this)}}r.target=null;var n=r;var a=class{constructor(t,e,s){this.vm=t,this.exp=e,this.cb=s,this.depIds={},this.oldVal=this.get()}get(){n.target=this;let t=this.getVMData();return n.target=null,t}getVMData(){let t=this.exp.split("."),e=this.vm;return t.forEach(t=>{e=e[t]}),e}addDep(t){this.depIds.hasOwnProperty(t.id)||(this.depIds[t.id]=t,t.addSub(this))}update(){let t=this.get();oldVal=this.oldVal,this.oldVal=t,this.cb.call(this.vm,t,oldVal)}};const o={text(t,e,s,i){this.bindData(t,e,s,"text")},model(t,e,s,i){this.bindData(t,e,s,i)},on(t,e,s,i,r){t.addEventListener(r,e.methods[s].bind(e))},bindData(t,e,s,i,r){let n=this.getVMData(e,s),o=l[i];o(t,e,s,n,r),new a(e,s,i=>{o(t,e,s,i,r),Object.keys(e.watch).forEach(t=>{t===s&&e.watch[t](i)})})},getVMData(t,e){let s=e.split("."),i=t;return s.forEach(t=>{i=i[t]}),i}},l={text(t,e,s,i){t.textContent=i},model(t,e,s,i){t.value=i,t.addEventListener("input",t=>{l.setVMData(e,s,t.target.value)})},setVMData(t,e,s){let i=e.split("."),r=t.data;i.forEach((t,e)=>{e===i.length-1?r[t]=s:r=r[t]})}};var d=class{constructor(t,e){this.el=document.querySelector(t),this.vm=e,this.fragment=this.nodeToFragment(this.el),this.compileElement(this.fragment),this.el.appendChild(this.fragment)}nodeToFragment(t){let e=document.createDocumentFragment(),s=t.childNodes;return Array.from(s).forEach(t=>{e.appendChild(t)}),e}compileElement(t){console.log(111);let e=t.childNodes,s=/\{\{(.*)\}\}/g;Array.from(e).forEach(t=>{let e=t.textContent;1===t.nodeType?this.compileNodeElement(t):3===t.nodeType&&s.test(e)&&this.compileTextNode(t)})}compileTextNode(t){let e=this.compilerText(t.textContent),s=document.createDocumentFragment(),i=t.parentNode;e.forEach(t=>{let e;t.tag?(e=document.createTextNode(""),o.text(e,this.vm,t.value)):e=document.createTextNode(t.value),s.appendChild(e)}),i.replaceChild(s,t)}compilerText(t){let e,s,i,r=/\{\{(.*?)\}\}/g,n=0,a=[];for(;e=r.exec(t);)(i=e.index)>n&&a.push({value:t.slice(n,e.index)}),s=e[1],a.push({value:s,tag:!0}),n=e.index+e[0].length;return n<t.length&&a.push({value:t.slice(n)}),a}compileNodeElement(t){let e=t.childNodes,s=t.attributes;Array.from(s).forEach(e=>{let s=e.name,i=/:/;if(this.isDirective(s)){let r,n,a=e.value,l=s.substring(2);i.test(l)&&(r=i.exec(l).index,n=l.substring(r+1),l=l.substring(0,r)),o[l](t,this.vm,a,l,n)}}),e&&e.length>0&&this.compileElement(t)}isDirective(t){return t.indexOf("v-")>-1}};let c=0;class h{constructor(){this.subs=[],this.id=c++}addSub(t){!this.subs.length>0&&this.subs.push(t)}removeSub(t){let e=this.subs.indexOf(t);-1!==e&&this.subs.splice(e,1)}notify(){this.subs.forEach(t=>t.update())}depend(){h.target.addDep(this)}}h.target=null;var u=h;function p(t,e){if(t&&"object"==typeof t)return new f(t,e)}class f{constructor(t,e){this.data=t,this.vm=e,this.walk(t)}walk(t){Object.keys(t).forEach(e=>{this.bindDescriptor(t,e,t[e],this.vm)})}bindDescriptor(t,e,s){let i=p(s),r=new u;Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:()=>(u.target&&r.depend(),s),set(t){t!==s&&(s=t,i=p(t),r.notify())}})}}var m=p;new class{constructor(t){this.el=t.el,this.data=t.data,Object.keys(this.data).forEach(t=>{this.setProxy(t)}),m(this.data,this),new d(this.el,this)}setProxy(t){let e=this;Object.defineProperty(this,t,{configurable:!1,enumerable:!0,get:()=>e.data[t],set(s){e.data[t]=s}})}}({el:"#app",data:{msg:"123",message:{name:"456"}}})}]);